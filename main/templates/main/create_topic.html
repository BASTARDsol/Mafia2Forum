{% extends 'main/base.html' %}
{% load widget_tweaks %}

{% block content %}
    <h2 class="page-title">Создать тему</h2>

    <div class="cards-container" style="display:flex; justify-content:center;">
        <div class="card" style="max-width:700px; width:100%; padding:50px; box-sizing:border-box;">
            <form method="post" enctype="multipart/form-data">  <!-- добавляем enctype -->
                {% csrf_token %}
                <div class="form-group">
                    <label for="{{ form.title.id_for_label }}">Название темы</label>
                    {{ form.title|add_class:"form-control" }}
                    {% if form.title.errors %}
                        <ul class="errorlist">
                            {% for error in form.title.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.description.id_for_label }}">Описание</label>
                    {{ form.description|add_class:"form-control description-scroll" }}
                    {% if form.description.errors %}
                        <ul class="errorlist">
                            {% for error in form.description.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.category.id_for_label }}">Категория</label>
                    {{ form.category|add_class:"form-control" }}
                    {% if form.category.errors %}
                        <ul class="errorlist">
                            {% for error in form.category.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.image.id_for_label }}">Изображение</label>
                    {{ form.image|add_class:"form-control-file" }}
                    {% if form.image.errors %}
                        <ul class="errorlist">
                            {% for error in form.image.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </div>

                <button type="submit" class="btn-primary btn-block">Создать тему</button>
            </form>
        </div>
    </div>

{% endblock %}
